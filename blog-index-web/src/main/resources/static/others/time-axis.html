<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>时间轴</title>
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="icon" href="../skin/public/images/logo.png">
    <script src="../skin/public/js/jquery.min.js" ></script>
    <script src="../skin/public/js/hc-sticky.js"></script>
    <script src="../skin/public/js/comm.js"></script>
    <script src="../common/js/head-menu.js"></script>
    <script src="../common/js/aside-left.js"></script>
    <link rel="stylesheet" type="text/css" href="../skin/public/css/index.css" >
    <script type="text/javascript" src="../skin/public/js/vue.js"></script>
</head>
<body>
<header>
    <div class="logo">
        <h1><a href="../index.html">Mr · 王</a></h1>
        <span>花若盛开，清风自来！</span>
    </div>
    <nav>
        <h2 id="mnavh"><span class="navicon"></span></h2>
        <ul id="starlist">
            <li><a href="../index.html">首页</a></li>
        </ul>
    </nav>
</header>
<div class="blank"></div>
<aside>
    <div class="newsbox">
        <h2 class="hometitle">推荐</h2>
        <ul class="news" id="recommend">
        </ul>
    </div>
    <div class="search">
        <input name="keyboard" id="keyboard" class="input_text" placeholder="请输入关键字词" type="text">
        <input id="keyboardQuery" name="Submit" class="input_submit" value="搜索" type="submit">
    </div>
    <div class="newsbox">
        <h2 class="hometitle">标签云</h2>
        <ul class="cloud" id="show_tags"></ul>
    </div>
    <div class="newsbox">
        <h2 class="hometitle">阅读排行</h2>
        <ul class="news" id="read_ranking"></ul>
    </div>
    <div class="newsbox">
        <h2 class="hometitle">友情链接</h2>
        <ul class="links"></ul>
    </div>
</aside>
<main id="timeBoxMain">
    <div class="address">您现在的位置是：<a href="../index.html">首页</a>> 时间轴</div>
    <div class="timebox">
        <ul id="timeBoxList">
            <li v-for="item in messages">
                <span>{{ item.createTime }}</span><i><a :href="'../knowledge/treatise-detail.html?uuid=' + item.uuid" target="_blank">{{ item.treatiseTitle }}</a></i>
            </li>
        </ul>
    </div>
</main>
<div class="blank"></div>
<footer>
    <script>$("footer").load("/common/footer.html");</script>
</footer>
<a href="time-axis.html" class="cd-top cd-is-visible cd-fade-out">Top</a>
<script>
    new Vue({
        el: "#timeBoxMain",
        data: {messages:[]},
        methods:{
            initInfo:function () {
                var self = this;
                $.ajax({
                    url: "/blogTreatise/getTimeAxis",
                    type: "GET"
                }).then(function (value) {
                    if (value.code == 200) {
                        self.messages = value.data.list;
                    }
                }).fail(function () {
                    console.log("获取失败");
                });
            }
        },
        created: function () {
            this.initInfo();
        }
    });
    // /**
    //  * 博客文章列表查询
    //  * @param pageNum
    //  * @param keyWord
    //  */
    // function getTreatiseList() {
    //     $("#treatise-list").empty();
    //     $.ajax({
    //         url: "/blogTreatise/getTimeAxis",
    //         type: "GET",
    //         success: function (data) {
    //             if (data.code == 200) {
    //                 $(data.data.list).each(function () {
    //                     var li = '<li><span>'+this.createTime+'</span><i><a href="../knowledge/treatise-detail.html?uuid=' + this.uuid + '" target="_blank">'+this.treatiseTitle+'</a></i></li>';
    //                     $("#timeBoxList").append(li);
    //                 });
    //             }
    //         }
    //     });
    // }
</script>
</body>
</html>
