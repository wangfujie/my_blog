(window.webpackJsonp=window.webpackJsonp||[]).push([[2],{401:function(t,e,n){"use strict";n.r(e);n(175),n(112);var r=n(12),o=n.n(r),l={data:function(){return{treatiseInfo:{}}},computed:{treatiseBody:function(){return this.unescape(this.treatiseInfo.treatiseBody)}},methods:{$imgAdd:function(t,e){var n=this,r=new FormData;r.append("image",e),o()({url:"/uploadImage",method:"post",data:r,headers:{"Content-Type":"multipart/form-data"}}).then(function(e){n.$refs.md.$img2Url(t,e.data)})},changeData:function(t,e){this.treatiseInfo.treatiseBody=e},unescape:function(html){return html.replace(html?/&(?!#?\w+;)/g:/&/g,"&amp;").replace(/&amp;/g,"&").replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&quot;/g,'"').replace(/&#39;/g,"'").replace(/&nbsp;/g," ")},getTreatiseDetail:function(t){var e=this;o.a.get("/blogTreatise/info/"+t).then(function(t){if(200==t.data.code){var n=t.data.data.object.tags;n&&(t.data.data.object.tagsList=n.split(",")),e.treatiseInfo=t.data.data.object}})},updateTreatiseBody:function(){var t=this;o.a.post("/blogTreatise/update",this.treatiseInfo).then(function(e){200==e.data.code?t.$message({message:e.data.msg,type:"success"}):t.$message({message:e.data.msg,type:"warning"})})}},created:function(){var t=this.$route.query.uuid;t&&this.getTreatiseDetail(t)}},d=n(3),component=Object(d.a)(l,function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{margin:"0 10px"}},[n("el-form",{ref:"blogLeaveMessage",staticClass:"demo-ruleForm",attrs:{model:t.treatiseInfo,rules:t.rules}},[n("el-form-item",{attrs:{label:""}},[n("h3",{staticClass:"infoTitle"},[t._v(t._s(t.treatiseInfo.treatiseTitle))])]),t._v(" "),n("el-form-item",[n("mavon-editor",{ref:"md",attrs:{ishlj:!0},on:{imgAdd:t.$imgAdd,change:t.changeData},model:{value:t.treatiseInfo.markdownContent,callback:function(e){t.$set(t.treatiseInfo,"markdownContent",e)},expression:"treatiseInfo.markdownContent"}})],1),t._v(" "),n("el-form-item",{staticStyle:{"text-align":"center"}},[n("el-button",{attrs:{type:"primary"},on:{click:t.updateTreatiseBody}},[t._v("保存")])],1)],1)],1)},[],!1,null,null,null);e.default=component.exports}}]);